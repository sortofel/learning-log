### :link: 2025-08-18
- [챗봇 학습 데이터 제공 API 추가](#챗봇-학습-데이터-제공-api-추가)
 
&nbsp; 
### 챗봇 학습 데이터 제공 API 추가

- 조회 결과로 받을 데이터의 형태를 명시하는 `UserReservationForLLM` 인터페이스를 Projection으로 정의
- 특정 사용자의 예약 내역을 상점과 메뉴 기준으로 그룹화하여 예약 횟수를 계산하고, 가장 횟수가 많은 단 하나의 결과만 반환

```java
// UserReservationForLLM.java (Projection Interface)
public interface UserReservationForLLM {
    Integer getShopCode();
    String getShopName();
    Integer getMenuCode();
    String getMenuName();
    Integer getRevCount();
}
```
 
```java
// UserReservationRepository.java
@Query("""
       SELECT
           r.shopInfo.shopCode as shopCode,
           r.shopInfo.shopName as shopName,
           r.menuInfo.menuCode as menuCode,
           r.menuInfo.menuName as menuName,
           COUNT(*) as revCount
       FROM BossReservation r
       WHERE r.userInfo.userCode = :userCode
       GROUP BY r.shopInfo.shopCode, r.shopInfo.shopName, r.menuInfo.menuCode, r.menuInfo.menuName
       ORDER BY revCount DESC
       LIMIT 1
       """)
Optional<UserReservationForLLM> readUserReservationForLLM(@Param("userCode") Integer userCode);
```

- `@GetMapping("/recommendation")`: 현재 로그인된 사용자가 가장 많이 예약한 상점(Shop)과 메뉴(Menu) 정보를 반환   
 
```java
// UserReservationController.java
@GetMapping("/recommendation")
public ResponseEntity<ResponseMessage> readUserReservationForLLM(@AuthenticationPrincipal AuthDetails authDetails){
    Integer userCode = getUserInfoByAuthDetails.getUserCodeByAuthDetails(authDetails);
    Optional<UserReservationForLLM> resvInfoForLLM = userReservationService.readUserReservationForLLM(userCode);
    // ...
}
```

 
https://github.com/BOA-with-elephant/Header-backend/pull/215